extends ../layout
block content
	style().
		html{
			background-color: #f2f2f2;
		}
	script(src="../../js/validators.js")
	script(src="../../js/parseTable.js")
	script(src="../../../js/parseTable.js")
	script(src="../../../js/validators.js")
	script(src="node_modules/jquery/dist/jquery.min.js")
	div(class="container-fluid")
		div(class="row" style="background: #465669;")
			div(class="col-md-3 text-center" style="background: #4e6075;") 
				h2(style="color:white;") Versatil
			div(class="col-md-9 text-center") 
				h2(style="color:white;") Agregar pedido
		div(class="row")
			form(method="post" action="/pedido/add" class="form-horizontal")
				div(class="form-group" style="margin-top:1em;")
					label(for="no_folio" class="col-sm-2 control-label") No. pedido
					div(class="col-sm-4")
						input(type="number" class="form-control " name="no_pedido" placeholder="Numero de pedido" readonly required)
				div(class="form-group" style="margin-top:1em;")
					label(for="fecha" class="col-sm-2 control-label") Fecha
					div(class="col-sm-4")
						input(type="date" class="form-control " name="fecha" placeholder="Fecha" readonly required)
				div(class="container" style="background:#cccccc;border-radius: 10px 10px 10px 10px;")
					div(class="row")
						label(class="col-sm-2 text-right" class="font18ligth" style="margin-top:1em;") Datos cliente
					div(class="form-group" style="margin-top:1em;")
						label(for="Nombre cliente" class="col-sm-2 control-label") Nombre:
						div(class="col-sm-6")
							input(type="text" class="form-control " name="nombre" placeholder="Nombre completo cliente" value="#{cliente.nombre}" id="nombre" readonly required)
						div(class="col-sm-4")
							a(class="fa fa-search btn btn-info" aria-hidden="true" style="background: #475668; border:none;" href="/clientes")  Buscar
					div(class="form-group" style="margin-top:1em;")
						label(for="Telefono cliente" class="col-sm-2 control-label") Telefono:
						div(class="col-sm-6")
							input(type="phone" class="form-control " name="telefono" placeholder="Telefono" value="#{cliente.telefono}" readonly required)
					div(class="form-group" style="margin-top:1em;")
						label(for="Correo" class="col-sm-2 control-label") Correo:
						div(class="col-sm-6")
							input(type="email" class="form-control " name="correo" placeholder="Correo" value="#{cliente.correo}" readonly required)
				div(class="container" style="background:#cccccc;border-radius: 10px 10px 10px 10px; margin-top:2em;")
					div(class="row")
						label(class="col-sm-2 text-right" class="font18ligth" style="margin-top:1em; margin-bottom:1em;") Datos pedido
					div(class="row")
						div(class="col-md-1 text-center")
						a(type="button" class="fa fa-plus-circle fa-2x" aria-hidden="true" style="color: #475668; font-size:20px;margin-bottom:1em;" href="/seleccionar_modelos/#{cliente.id_cliente}/:filtro?/:valor?/" onclick="validarCliente(#{cliente.id_cliente});" id="link")   Agregar modelos
					div(class="row")
						div(class="col-sm-1")
						div(class="col-sm-10")
							table(class="table table-striped" name="table" id="modelos_pedido")
								thead
									tr
										th(style="text-align:center;") Modelo
										th(style="text-align:center;") Detalles modelo
										th(style="text-align:center;") Cantidad
										th(style="text-align:center;") Precio unitario
										th(style="text-align:center;") Subtotal
								tbody
									each modelo in modelos
										tr
											td(style="text-align:center;" contenteditable=false) #{modelo.id_modelo}
											td(style="text-align:center;" contenteditable=true) 
											td(style="text-align:center;" contenteditable=true) 
											td(style="text-align:center;" contenteditable=false) #{modelo.precio_unitario}
											td(style="text-align:center;" contenteditable=false) 

					div(class="form-group" style="margin-top:2em;")
						label(for="total" class="col-sm-2 control-label") Total:
						div(class="col-sm-2")
							input(type="number" class="form-control " name="total" placeholder="Total" readonly required)
					div(class="form-group" style="margin-top:1em;")
						label(for="Anticipo" class="col-sm-2 control-label") Anticipo:
						div(class="col-sm-2")
							input(type="number" class="form-control " name="anticipo" placeholder="Anticipo" min="0" required)
					div(class="form-group" style="margin-top:1em;")
						label(for="especificaciones" class="col-sm-2 control-label") Especificaciones:
						div(class="col-sm-10")
							textarea( rows="6" class="form-control " name="especificaciones" placeholder="Espeficaciones del pedido" required)
					div(class="form-group" style="margin-top:1em;")
						label(for="fecha_entrega" class="col-sm-2 control-label") Fecha de entrega:
						div(class="col-sm-2")
							input(type="date" class="form-control " name="fecha_entrega" placeholder="Fecha de entrega" required)
							input(type="text" hidden=true name="table" id="jsontable")
					div(class="form-group")
						label(class="col-sm-2")
						div(class="col-sm-3")
							button(type="submit" class="btn btn-success" onclick="registrarPedido();")
								span(class="fa fa-plus-circle fo")    Registrar pedido
							a(href="/redirect_user" class="btn btn-danger")
								span(class="fa fa-times-circle")   Cancelar









